"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function restoreWindowBounds(){let e;try{e=JSON.parse(_fs2["default"].readFileSync(configPath,"utf8"))}catch(n){}return"undefined"!=typeof e&&"undefined"!=typeof e.bounds?e.bounds:{width:1024,height:768}}function saveWindowBounds(){let e={bounds:mainWindow.getBounds()};_fs2["default"].writeFileSync(configPath,JSON.stringify(e))}var _app=require("app"),_app2=_interopRequireDefault(_app),_menu=require("menu"),_menu2=_interopRequireDefault(_menu),_browserWindow=require("browser-window"),_browserWindow2=_interopRequireDefault(_browserWindow),_path=require("path"),_path2=_interopRequireDefault(_path),_fs=require("fs"),_fs2=_interopRequireDefault(_fs);let configPath=_path2["default"].join(_app2["default"].getPath("userData"),"debugger-config.json"),debugUrl=process.argv[2],template=[{label:"Electron",submenu:[{label:"Quit",accelerator:"Command+Q",click:function(){_app2["default"].quit()}}]},{label:"View",submenu:[{label:"Reload",accelerator:"Command+R",click:function(){mainWindow&&mainWindow.reloadIgnoringCache()}}]},{label:"Edit",submenu:[{label:"Undo",accelerator:"Command+Z",selector:"undo:"},{label:"Redo",accelerator:"Command+Shift+Z",selector:"redo:"},{type:"separator"},{label:"Cut",accelerator:"Command+X",selector:"cut:"},{label:"Copy",accelerator:"Command+C",selector:"copy:"},{label:"Paste",accelerator:"Command+V",selector:"paste:"},{label:"Select All",accelerator:"Command+A",selector:"selectAll:"}]}],mainWindow=null;_app2["default"].on("window-all-closed",function(){_app2["default"].quit()}),_app2["default"].on("ready",function(){_menu2["default"].setApplicationMenu(_menu2["default"].buildFromTemplate(template));let e=restoreWindowBounds();mainWindow=new _browserWindow2["default"](e),mainWindow.loadUrl(debugUrl),mainWindow.on("closed",function(){saveWindowBounds(mainWindow),mainWindow=null});let n={x:mainWindow.getBounds().x,y:mainWindow.getBounds().y,width:mainWindow.getBounds().width,height:mainWindow.getBounds().height};setInterval(function(){(n.x!==mainWindow.getBounds().x||n.y!==mainWindow.getBounds().y||n.width!==mainWindow.getBounds().width||n.height!==mainWindow.getBounds().height)&&(saveWindowBounds(),n={x:mainWindow.getBounds().x,y:mainWindow.getBounds().y,width:mainWindow.getBounds().width,height:mainWindow.getBounds().height})},500)});